{% extends 'layouts/dashboard.html.twig' %}

{% block title %}View Hotel - My Hotel{% endblock %}

{% block dashboard_content %}
  <div class="mb-6">
    <h1 class="text-2xl font-bold text-sky-700">Hotel Details</h1>
    <p class="text-sm text-slate-500">See all information about this hotel.</p>
  </div>
  <div class="bg-white rounded shadow p-6 max-w-lg mx-auto mb-8">
    <dl class="divide-y divide-slate-200">
      <div class="py-4 flex justify-between">
        <dt class="font-medium text-slate-600">Hotel Code</dt>
        <dd class="text-slate-900">{{ hotel.hotelCode }}</dd>
      </div>
      <div class="py-4 flex justify-between">
        <dt class="font-medium text-slate-600">Name</dt>
        <dd class="text-slate-900">{{ hotel.hotelName }}</dd>
      </div>
      <div class="py-4 flex justify-between">
        <dt class="font-medium text-slate-600">Address</dt>
        <dd class="text-slate-900">{{ hotel.hotelAddress }}</dd>
      </div>
      <div class="py-4 flex justify-between">
        <dt class="font-medium text-slate-600">Category</dt>
        <dd class="text-slate-900">{{ hotel.hotelCategory }}</dd>
      </div>
    </dl>
    <div class="mt-6 flex justify-end gap-2">
      <a href="{{ path('admin_hotels_edit', {'codeHotel': hotel.hotelCode}) }}" class="px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700">Edit</a>
      <form method="post" action="{{ path('admin_hotels_delete', {'codeHotel': hotel.hotelCode}) }}" style="display:inline;" onsubmit="return confirm('Are you sure?');">
        <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">Delete</button>
      </form>
      <a href="{{ path('admin_hotels') }}" class="px-4 py-2 bg-slate-200 text-slate-700 rounded hover:bg-slate-300">Back to list</a>
    </div>
  </div>
  <div class="mb-8">
    <h2 class="text-lg font-semibold text-sky-700 mb-2">Rooms</h2>
    <table class="min-w-full divide-y divide-slate-200">
      <thead>
        <tr>
          <th class="px-4 py-2 text-left text-xs font-medium text-slate-500">Code</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-slate-500">Floor</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-slate-500">Type</th>
          <th class="px-4 py-2 text-left text-xs font-medium text-slate-500">Beds</th>
        </tr>
      </thead>
      <tbody>
        {% for room in rooms %}
          <tr class="border-b">
            <td class="px-4 py-2">{{ room.roomCode }}</td>
            <td class="px-4 py-2">{{ room.floor }}</td>
            <td class="px-4 py-2">{{ room.type }}</td>
            <td class="px-4 py-2">{{ room.numberOfBeds }}</td>
            <td>
                <form action="{{ path('admin_hotels_room_delete', {'codeHotel': hotel.hotelCode, 'roomCode': room.roomCode}) }}" method="post" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this room?')">Delete</button>
                </form>
            </td>
          </tr>
        {% else %}
          <tr><td colspan="4" class="px-4 py-2 text-center text-slate-500">No rooms found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="mt-4 flex justify-end">
      <a href="{{ path('admin_hotels_room_new', {'codeHotel': hotel.hotelCode}) }}" class="px-4 py-2 bg-sky-600 text-white rounded hover:bg-sky-700">Add Room</a>
    </div>
  </div>
  <div>
    <h2 class="text-lg font-semibold text-sky-700 mb-2">Room Types</h2>
    <ul class="list-disc pl-6">
      {% for type in roomTypes %}
        <li>{{ type }}</li>
      {% else %}
        <li class="text-slate-500">No room types found.</li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
